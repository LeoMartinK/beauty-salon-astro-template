---
import { getCollection } from 'astro:content';
import Heading from 'src/components/atoms/Heading.astro';
import TipCard from 'src/components/molecules/TipCard.astro';
import Layout from 'src/layouts/Layout.astro';

// Obtener todos los tips y ordenarlos por fecha (más nuevo primero)
const allTips = (await getCollection('tips')).sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
);
---

<Layout title="Blog de Tips | Beauty Salon Template">
  <section class="bg-pink-100/50 px-4 py-20 text-center">
    <span class="mb-2 block text-sm font-bold uppercase tracking-widest text-glam-taupe"
      >Magazine</span
    >
    <Heading tagName="h1" size="xl" color="navy" align="center" className="mb-4">
      Secretos de <span class="italic text-pink-500">Belleza</span>
    </Heading>
    <p class="mx-auto max-w-xl text-glam-gray">
      Consejos profesionales, tendencias y cuidados para que luzcas tu mejor versión todos los días.
    </p>
  </section>

  <section class="container mx-auto px-4 py-16">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
      {allTips.map((post) => <TipCard post={post} />)}
    </div>
  </section>
</Layout>
